import{d as w,b as k,r as i,e as u,f as d,y as c,w as r,h as o,n as f,t as b,Q as C,R as F,g as K,K as P,j as _,F as U,E as h}from"./index-3efbb394.js";import{c as E}from"./serviceDict-19376974.js";const L=w({name:"batchOrderDrawer"}),N=w({...L,setup(R,{expose:y}){const V=k({OrderKey:[{trigger:"blur"}],BOStatus:[{required:!0,trigger:"change"}],Priority:[{required:!0,trigger:"blur"}]}),s=i(!1),e=i({isView:!1,title:""}),g=t=>{e.value=t,s.value=!0},m=i(),O=()=>{m.value.validate(async t=>{if(!!t)try{if(!e.value.apiUrl)return;await e.value.apiUrl(e.value.rowData),h.success({message:`${e.value.title}\u8BA2\u5355\u6210\u529F\uFF01`}),e.value.getTableList&&e.value.getTableList(),s.value=!1}catch(l){}})};return y({acceptParams:g}),(t,l)=>{const p=u("el-input"),n=u("el-form-item"),D=u("el-option"),B=u("el-select"),S=u("el-form"),v=u("el-button"),$=u("el-drawer");return d(),c($,{modelValue:s.value,"onUpdate:modelValue":l[4]||(l[4]=a=>s.value=a),"destroy-on-close":!0,size:"500px",title:e.value.title+t.$t("set.BatchOrder")},{footer:r(()=>[o(v,{onClick:l[3]||(l[3]=a=>s.value=!1)},{default:r(()=>[f(b(t.$t("set.Cancel")),1)]),_:1}),C(o(v,{type:"primary",onClick:O},{default:r(()=>[f(b(t.$t("set.Confirm")),1)]),_:1},512),[[F,!e.value.isView]])]),default:r(()=>[o(S,{ref_key:"ruleFormRef",ref:m,rules:_(V),disabled:e.value.isView,model:e.value.rowData,"label-width":"100px"},{default:r(()=>[o(n,{label:t.$t("set.OrderKey"),prop:"OrderKey",clearable:""},{default:r(()=>[o(p,{modelValue:e.value.rowData.OrderKey,"onUpdate:modelValue":l[0]||(l[0]=a=>e.value.rowData.OrderKey=a),disabled:""},null,8,["modelValue"])]),_:1},8,["label"]),o(n,{label:t.$t("set.BOStatus"),prop:"BOStatus",clearable:""},{default:r(()=>[o(B,{modelValue:e.value.rowData.BOStatus,"onUpdate:modelValue":l[1]||(l[1]=a=>e.value.rowData.BOStatus=a),clearable:""},{default:r(()=>[(d(!0),K(U,null,P(_(E),a=>(d(),c(D,{key:a.value,label:a.label,value:a.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1},8,["label"]),o(n,{label:t.$t("set.Priority"),prop:"Priority",clearable:""},{default:r(()=>[o(p,{modelValue:e.value.rowData.Priority,"onUpdate:modelValue":l[2]||(l[2]=a=>e.value.rowData.Priority=a),type:"number",oninput:"if(value.length>2)value=value.slice(0,2)"},null,8,["modelValue"])]),_:1},8,["label"])]),_:1},8,["rules","disabled","model"])]),_:1},8,["modelValue","title"])}}});export{N as _};
