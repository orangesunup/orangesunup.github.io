import{d as v,G as O,a as j,i as q,b as G,e as d,f as h,g as C,k as m,h as t,w as r,j as e,S as Q,_ as W,y as _,P as X,V as J,W as Z,F as x,K as ee,t as p,a7 as te,a8 as oe,Q as le,R as ae,n as w,M as re,X as ne,Y as se}from"./index-3efbb394.js";import{_ as ie}from"./notData-2026ca54.js";import{d as n,a as de}from"./util-8cf766eb.js";import{h as me}from"./serviceDict-19376974.js";import{I as pe,u as ue}from"./index-7154a9df.js";import{u as ce}from"./useSelection-1dc1eb7e.js";import{u as fe}from"./useAuthButtons-6e5ad93a.js";import{u as he}from"./useTable-6d3cf82e.js";import{_ as be}from"./taskDrawer-ace4e4bf.js";import{g as we,e as _e}from"./task-dcbb5ca7.js";import"./plugin-vue_export-helper-b2bddca3.js";import"./index-2ef92394.js";const ge={class:"table-box"},Ce={class:"table-search"},ve={style:{"margin-left":"24px"}},ye={class:"more-item"},ke={class:"search-operation"},Te={class:"table-header"},$e={class:"header-button-lf"},Se={class:"header-button-ri"},Ve={style:{"margin-left":"0"}},Ee={class:"table-empty"},Ke=m("img",{src:ie,alt:"notData"},null,-1),De=v({name:"taskCenter"}),Oe=v({...De,setup(Le){const y=O(),k=j(()=>y.language);q.global.locale=k.value;const T=G({}),{tableData:$,pageable:u,searchParam:s,searchShow:c,initSearchParam:S,getTableList:V,search:E,reset:K,handleSizeChange:D,handleCurrentChange:L}=he(we,T),{selectionChange:P,getRowKeys:z}=ce(),{BUTTONS:F}=fe();S.value={};const N=async()=>{ue(_e,"\u4EFB\u52A1\u4E2D\u5FC3",s.value)};return(o,i)=>{const g=d("el-input"),b=d("el-form-item"),U=d("el-option"),A=d("el-select"),B=d("el-switch"),R=d("el-date-picker"),H=d("el-form"),f=d("el-button"),I=d("el-icon"),a=d("el-table-column"),Y=d("el-table"),M=d("el-pagination");return h(),C("div",ge,[m("div",Ce,[t(H,{ref:"formRef",model:e(s),inline:!0,"label-width":"100px"},{default:r(()=>[t(b,{label:o.$t("set.ContainerCode")},{default:r(()=>[t(g,{modelValue:e(s).ContainerCode,"onUpdate:modelValue":i[0]||(i[0]=l=>e(s).ContainerCode=l),clearable:""},null,8,["modelValue"])]),_:1},8,["label"]),t(b,{label:o.$t("set.ExternalTaskKey")},{default:r(()=>[t(g,{modelValue:e(s).ExternalTaskKey,"onUpdate:modelValue":i[1]||(i[1]=l=>e(s).ExternalTaskKey=l),clearable:""},null,8,["modelValue"])]),_:1},8,["label"]),t(b,{label:o.$t("set.State")},{default:r(()=>[t(A,{modelValue:e(s).State,"onUpdate:modelValue":i[2]||(i[2]=l=>e(s).State=l),clearable:"",multiple:"","collapse-tags":""},{default:r(()=>[(h(!0),C(x,null,ee(e(me),l=>(h(),_(U,{key:l.value,label:l.label,value:l.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue"]),m("span",ve,p(o.$t("set.IsHistory")),1),t(B,{modelValue:e(s).IsHistory,"onUpdate:modelValue":i[3]||(i[3]=l=>e(s).IsHistory=l),style:{"margin-left":"8px"},"inline-prompt":"","active-icon":e(te),"inactive-icon":e(oe)},null,8,["modelValue","active-icon","inactive-icon"])]),_:1},8,["label"]),le(m("div",ye,[t(b,{label:o.$t("set.AddedTime")},{default:r(()=>[t(R,{modelValue:e(s).AddedTime,"onUpdate:modelValue":i[4]||(i[4]=l=>e(s).AddedTime=l),type:"datetimerange","start-placeholder":o.$t("set.StartTime"),"end-placeholder":o.$t("set.EndTime"),"value-format":"YYYY-MM-DD HH:mm:ss"},null,8,["modelValue","start-placeholder","end-placeholder"])]),_:1},8,["label"])],512),[[ae,e(c)]])]),_:1},8,["model"]),m("div",ke,[t(f,{type:"primary",icon:e(Q),onClick:e(E)},{default:r(()=>[w(p(o.$t("set.Search")),1)]),_:1},8,["icon","onClick"]),t(f,{icon:e(W),onClick:e(K)},{default:r(()=>[w(p(o.$t("set.Reset")),1)]),_:1},8,["icon","onClick"]),t(f,{type:"primary",link:"",class:"search-isOpen",onClick:i[5]||(i[5]=l=>c.value=!e(c))},{default:r(()=>[w(p(e(c)?o.$t("set.Close"):o.$t("set.Open"))+" ",1),t(I,{class:"el-icon--right"},{default:r(()=>[(h(),_(re(e(c)?e(ne):e(se))))]),_:1})]),_:1})])]),m("div",Te,[m("div",$e,[e(F).export?(h(),_(f,{key:0,type:"primary",icon:e(X),plain:"",onClick:N},{default:r(()=>[w(p(o.$t("set.TaskCenterExport")),1)]),_:1},8,["icon"])):J("",!0)]),m("div",Se,[t(f,{icon:e(Z),circle:"",onClick:e(V)},null,8,["icon","onClick"])])]),t(Y,{height:"575",data:e($),border:!0,onSelectionChange:e(P),"row-key":e(z),"row-style":{height:"30px"},"cell-style":{padding:"0px"},stripe:""},{empty:r(()=>[m("div",Ee,[Ke,m("div",null,p(o.$t("set.NoData")),1)])]),default:r(()=>[t(a,{label:o.$t("set.SerialNumber"),width:"60"},{default:r(l=>[m("span",Ve,p((e(u).pageNum-1)*e(u).pageSize+l.$index+1),1)]),_:1},8,["label"]),t(a,{prop:"TaskKey",label:o.$t("set.TaskKey"),formatter:e(n),"show-overflow-tooltip":"",width:"200"},null,8,["label","formatter"]),t(a,{prop:"ParentTaskKey",label:o.$t("set.ParentTaskKey"),formatter:e(n),"show-overflow-tooltip":"",width:"200"},null,8,["label","formatter"]),t(a,{prop:"ContainerCode",label:o.$t("set.ContainerCode"),formatter:e(n),"show-overflow-tooltip":"",width:"200"},null,8,["label","formatter"]),t(a,{prop:"Priority",label:o.$t("set.Priority"),formatter:e(n),"show-overflow-tooltip":"",width:"100"},null,8,["label","formatter"]),t(a,{prop:"State",label:o.$t("set.State"),formatter:e(de),"show-overflow-tooltip":"",width:"100"},null,8,["label","formatter"]),t(a,{prop:"FromLocation",label:o.$t("set.FromLocation"),formatter:e(n),"show-overflow-tooltip":"",width:"100"},null,8,["label","formatter"]),t(a,{prop:"ToLocation",label:o.$t("set.ToLocation"),formatter:e(n),"show-overflow-tooltip":"",width:"100"},null,8,["label","formatter"]),t(a,{prop:"CurrentLocation",label:o.$t("set.CurrentLocation"),formatter:e(n),"show-overflow-tooltip":"",width:"150"},null,8,["label","formatter"]),t(a,{prop:"TryCount",label:o.$t("set.TryCount"),formatter:e(n),"show-overflow-tooltip":"",width:"100"},null,8,["label","formatter"]),t(a,{prop:"ExternalTaskKey",label:o.$t("set.ExternalTaskKey"),formatter:e(n),"show-overflow-tooltip":"",width:"150"},null,8,["label","formatter"]),t(a,{prop:"EquimentTaskKey",label:o.$t("set.EquimentTaskKey"),formatter:e(n),"show-overflow-tooltip":"",width:"150"},null,8,["label","formatter"]),t(a,{prop:"AddedTime",label:o.$t("set.AddedTime"),formatter:e(n),"show-overflow-tooltip":"",sortable:"","sort-orders":["descending","ascending"],width:"200"},null,8,["label","formatter"]),t(a,{prop:"LastUpdateTime",label:o.$t("set.LastUpdateTime"),formatter:e(n),"show-overflow-tooltip":"",width:"200"},null,8,["label","formatter"]),t(a,{prop:"CompleteTime",label:o.$t("set.CompletedTime"),formatter:e(n),"show-overflow-tooltip":"",sortable:"","sort-orders":["descending","ascending"],width:"200"},null,8,["label","formatter"])]),_:1},8,["data","onSelectionChange","row-key"]),t(M,{currentPage:e(u).pageNum,"page-size":e(u).pageSize,"page-sizes":[10,25,50,100,1e3],background:"",layout:"total, sizes, prev, pager, next, jumper",total:e(u).total,onSizeChange:e(D),onCurrentChange:e(L)},null,8,["currentPage","page-size","total","onSizeChange","onCurrentChange"]),t(be,{ref:"drawerRef"},null,512),t(pe,{ref:"dialogRef"},null,512)])}}});export{Oe as default};
