import{a2 as S,b as N,a as n,o as z}from"./index-3efbb394.js";const O=(o,c={},r=!0)=>{const a=N({tableData:[],searchShow:!1,pageable:{pageNum:1,pageSize:10,total:0},searchParam:{},initSearchParam:{},totalParam:{}}),g=n({get:()=>({pageNum:a.pageable.pageNum,pageSize:a.pageable.pageSize}),set:e=>{}}),l=n({get:()=>({condition:JSON.stringify([a.searchParam])}),set:e=>{}});z(()=>{s()});const t=async()=>{try{p(),Object.assign(a.totalParam,c);const{data:e}=await o(a.totalParam);a.tableData=r?e.datalist:e;const{pageNum:h,pageSize:P,total:d}=e;r&&m({pageNum:h,pageSize:P,total:d})}catch{}},p=()=>{a.totalParam={},Object.assign(a.totalParam,l.value,r?g.value:{})},m=e=>{Object.assign(a.pageable,e)},i=()=>{a.pageable.pageNum=1,t()},s=()=>{a.pageable.pageNum=1,a.searchParam={},Object.keys(a.initSearchParam).forEach(e=>{a.searchParam[e]=a.initSearchParam[e]}),t()},u=e=>{a.pageable.pageNum=1,a.pageable.pageSize=e,t()},b=e=>{a.pageable.pageNum=e,t()};return{...S(a),getTableList:t,search:i,reset:s,handleSizeChange:u,handleCurrentChange:b}};export{O as u};
